<!DOCTYPE html>
<html>

<head>
    <title>fetch</title>
    <meta content="text/html; charset=utf-8">

    <body>
        <div class="box">
            <img src="" alt="test1">
            <img src="" alt="test2" class="my-image">
        </div>
        <div style="display:table;height:200px;width:200px;background-color:red;">
            <div style="display:table-cell;vertical-align:middle;text-align:center;">居中</div>
        </div>

        <script>
            var myImage = document.querySelector('img');
            var myRequest = new Request('../src/img/i1.png');
            // var myRequest = new Request('flowers.jpg');
            var test = fetch(myRequest).then(function (response) {
                // console.warn(' response:',response,response.blob());
                console.error(' response:', response, );
                // console.warn('response.text():',response.text());
                return response.blob();
                // return response.text();
            });
            var api = test.then(function (response) {

                objectURL = URL.createObjectURL(response);
                console.error(' resolved 第二个then:', response, ' objectURL:', objectURL,);

                myImage.src = objectURL;
            }, function () {
                console.error(" 现在的api wonderful", arguments)
            }).catch(function () {
                console.error(' 我是catch！', arguments);
            });
        </script>
        <script>
                    var img = document.querySelector('.my-image');
    fetch('https://upload.wikimedia.org/wikipedia/commons/7/77/Delete_key1.jpg')
        .then(res => {
            console.warn(' res【1】:',res);
            return res.blob()
            // return res.text()
        })
        .then(res => {
            var objectURL = URL.createObjectURL(res);
            console.warn(' res【2】:',res,URL.createObjectURL(res));

            img.src = objectURL;
    });
        </script>
        <script>
            var result = fetch('https://api.github.com')
            result.then(function (response) {
                console.info('response', response)
                console.info('header', response.headers.get('Content-Type'))
                return window.response = response;
            }).then(function (text) {
                console.info('got text', text, text.blob())
            }).catch(function (ex) {
                console.info('failed', ex)
            })
        </script>

    </body>

</html>